<html>
<head>
	<title>Calcultor</title>
	<link rel="stylesheet" type="text/css" href="calculator.css">
	<script type="text/javascript" src="calculator.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>



	<script>
		$(document).ready(function(){
			var a = new Calculator();	

			var input ="";
			var win = document.getElementById('window');


			var keys = document.getElementsByClassName('key-button');
			console.log(keys);

			for ( var i = 0; i<keys.length; i++){
				keys[i].addEventListener('click', myFunction, false);
			};

			function myFunction( ){
				var letter = this.getElementsByTagName('p')[0].innerHTML;
				


				//update input
				if ( letter == "="){
					if ( a.validateInput( input ) ){

						input  = parseInput(input);	
					
						win.innerHTML =	input;
						// input = "";	
					}
					else {
						win.innerHTML =	"Error";
						input = "";
					}
						 					
				}
				else if ( letter == "CE"){
					input = "";
					win.innerHTML = "";
				}
				else if ( letter == "DE"){
					if ( input != "" && input.length > 1){
						input = input.substring(0, input.length-1);
						win.innerHTML = input;
					}
					else if (input != "" && input.length == 1){
						input = "";
						win.innerHTML = "";
					}
				}
				else{
					// alert('no hi');
					input += letter;
					win.innerHTML = input;
					// alert(input);
				}
			};

			


		});



	</script>
</head>



<body>


	<div id='main'>

		<div id="display">
			<p id="window"></p>

		</div>


		<div id="keys">
			<div id="CE" class="key-button">
				<p>CE</p>

			</div>
			<!-- <div  class="key-button">
				
				<p>(</p>
			</div> -->
			<div class="key-button">
				<p>DE</p>
			</div>
			<div class="key-button">
				<p>+</p>
			</div>
			<div class="key-button">
				<p>7</p>
			</div>
			<div class="key-button">
				<p>8</p>
			</div>
			<div class="key-button">
				<p>9</p>
			</div>
			<div class="key-button">
				<p>-</p>
			</div>
			<div class="key-button">
				<p>4</p>
			</div>
			<div class="key-button">
				<p>5</p>
			</div>
			<div class="key-button">
				<p>6</p>
			</div>
			<div class="key-button">
				<p>x</p>
			</div>
			<div class="key-button">
				<p>1</p>
			</div>
			<div class="key-button">
				<p>2</p>
			</div>
			<div class="key-button">
				<p>3</p>
			</div>
			<div class="key-button">
				<p>/</p>
			</div>
			<div id = "zero" class="key-button">
				<p>0</p>
			</div>
			<!-- <div class="key-button">
				
			</div>
			<div class="key-button">
				
			</div> -->
			<div id = "equal" class="key-button">
				<p>=</p>
			</div>
		</div>



	</div>







</body>
</html>